(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/write/write"],{"09b2":function(t,e,a){"use strict";a("9a07");var i=s(a("b0ce")),n=s(a("a76f"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(n.default))},5168:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"uni-richtext",data:function(){return{showMask:!1,showPopup:!1,showInsertTextPopup:!1,fontSizeList:["14px","16px","20px","28px","35px"],richListIndex:0,textareaDataType:"",textareaData:"",textareaDataStyle:"padding:10px;font-size:14px;",textareaDataColor:"",tmpTag:""}},props:{richList:{type:Array,default:function(){return[]}}},watch:{richList:function(){this.$emit("update:richList",this.richList)},textareaDataColor:function(t,e){this.textareaDataStyle=this.textareaDataStyle.replace(/^color:.*;$/,""),this.textareaDataStyle+="color:"+t+";"}},methods:{insertRichItem:function(e){var a=this;"image"==e?t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){t.showLoading({mask:!0}),t.uploadFile({url:"http://localhost:8080/api/user/avatar",filePath:e.tempFilePaths[0],name:"image",success:function(t){-1==a.richListIndex?a.richList.push({tagType:"image",value:t.data,style:""}):a.richList.splice(a.richListIndex+1,0,{tagType:"image",value:t.data,style:""})},complete:function(){t.hideLoading(),a.hideInputPopup()}})}}):"video"==e&&t.chooseVideo({count:1,sourceType:["camera","album"],success:function(e){t.showLoading({mask:!0}),t.uploadFile({url:"http://localhost:8080/api/user/avatar",filePath:e.tempFilePath,name:"video",success:function(t){console.log(JSON.stringify(t)),-1==a.richListIndex?a.richList.push({tagType:"video",value:t.data,style:""}):a.richList.splice(a.richListIndex+1,0,{tagType:"video",value:t.data,style:""})},fail:function(t){console.log(JSON.stringify(t))},complete:function(){t.hideLoading(),a.hideInputPopup()}})}})},deleteRichItem:function(t){-1!=t&&(this.richList.splice(t,1),this.hideInputPopup())},textareaDataCancel:function(){this.textareaData="",this.textareaDataColor="",this.textareaDataStyle="padding:10px;font-size:14px",this.showInsertTextPopup=!1},textareaDataSave:function(){"input"==this.textareaDataType?-1==this.richListIndex?this.richList.push({tagType:"p",value:this.textareaData,style:this.textareaDataStyle}):this.richList.splice(this.richListIndex+1,0,{tagType:"p",value:this.textareaData,style:this.textareaDataStyle}):"edit"==this.textareaDataType&&(this.richList[this.richListIndex]={tagType:"p",value:this.textareaData,style:this.textareaDataStyle}),this.textareaData="",this.textareaDataColor="",this.textareaDataStyle="padding:10px;font-size:14px",this.showInsertTextPopup=!1},toolBarClick:function(e){var a=this;switch(e){case"bold":-1!=this.textareaDataStyle.indexOf("font-weight:bold;")?this.textareaDataStyle=this.textareaDataStyle.replace(/font-weight:bold;/,""):this.textareaDataStyle+="font-weight:bold;";break;case"italic":-1!=this.textareaDataStyle.indexOf("font-style:italic;")?this.textareaDataStyle=this.textareaDataStyle.replace(/font-style:italic;/,""):this.textareaDataStyle+="font-style:italic;";break;case"fontsize":t.showActionSheet({itemList:this.fontSizeList,success:function(t){var e=a.fontSizeList[t.tapIndex];a.textareaDataStyle=a.textareaDataStyle.replace(/^font-size:.*px;$/,""),a.textareaDataStyle+="font-size:"+e+";"}});break;case"alignleft":this.textareaDataStyle=this.textareaDataStyle.replace(/^text-align:.*;$/,""),this.textareaDataStyle+="text-align:left;";break;case"aligncenter":this.textareaDataStyle=this.textareaDataStyle.replace(/^text-align:.*;$/,""),this.textareaDataStyle+="text-align:center;";break;case"alignright":this.textareaDataStyle=this.textareaDataStyle.replace(/^text-align:.*;$/,""),this.textareaDataStyle+="text-align:right;";break;case"underline":-1!=this.textareaDataStyle.indexOf("text-decoration: underline;")?this.textareaDataStyle=this.textareaDataStyle.replace(/text-decoration: underline;/,""):(this.textareaDataStyle=this.textareaDataStyle.replace(/^text-decoration:.*;$/,""),this.textareaDataStyle+="text-decoration: underline;");break;case"strike":-1!=this.textareaDataStyle.indexOf("text-decoration: line-through;")?this.textareaDataStyle=this.textareaDataStyle.replace(/text-decoration: line-through;/,""):(this.textareaDataStyle=this.textareaDataStyle.replace(/^text-decoration:.*;$/,""),this.textareaDataStyle+="text-decoration: line-through;");break}},showInsertText:function(){this.textareaDataType="input",this.hideInputPopup(),this.showInsertTextPopup=!0},showEditText:function(){0!=this.richList.length?(this.textareaDataType="edit",this.textareaData=this.tmpTag.value,this.textareaDataStyle=this.tmpTag.style,this.hideInputPopup(),this.showInsertTextPopup=!0):this.showInsertText()},hideInputPopup:function(){this.showMask=!1,this.showPopup=!1},showInputPopup:function(t,e){this.tmpTag=e,this.richListIndex=t,this.showMask=!0,this.showPopup=!0}}};e.default=a}).call(this,a("6e42")["default"])},"607b":function(t,e,a){"use strict";a.r(e);var i=a("ddcd"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},"654e":function(t,e,a){},"7c98":function(t,e,a){"use strict";var i=a("654e"),n=a.n(i);n.a},"803b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[t._m(0),a("uni-richtext",{attrs:{richList:t.richList,uploadUrl:t.uploadUrl,eventid:"6b15eeae-0",mpcomid:"6b15eeae-0"},on:{"update:richList":function(e){t.richList=e}}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"title"},[a("text",{staticStyle:{"font-size":"40rpx","margin-bottom":"20rpx"}},[t._v("标题:")]),a("input",{staticClass:"title-content",staticStyle:{border:"1px solid #EEEEEE"},attrs:{type:"text"}})])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},a379:function(t,e,a){},a71f:function(t,e,a){"use strict";a.r(e);var i=a("5168"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=n.a},a76f:function(t,e,a){"use strict";a.r(e);var i=a("803b"),n=a("607b");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("f1c5");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,"4564b97c",null);e["default"]=r.exports},ddcd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("feca"));function n(t){return t&&t.__esModule?t:{default:t}}var s={components:{uniRichtext:i.default},data:function(){return{richList:[],uploadUrl:"http://localhost:8080/api/user/avatar"}},onLoad:function(){},onShow:function(){},methods:{},watch:{richList:function(t,e){console.log(t)}}};e.default=s},e77a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],staticClass:"mask",attrs:{eventid:"580dfd3a-0"},on:{click:t.hideInputPopup}}),a("view",{directives:[{name:"show",rawName:"v-show",value:t.showInsertTextPopup,expression:"showInsertTextPopup"}],staticClass:"popup popup-insert-text"},[a("view",{staticClass:"toolbar"},[a("view",{staticClass:"iconfont icon-bold",attrs:{eventid:"580dfd3a-1"},on:{click:function(e){t.toolBarClick("bold")}}}),a("view",{staticClass:"iconfont icon-italic",attrs:{eventid:"580dfd3a-2"},on:{click:function(e){t.toolBarClick("italic")}}}),a("view",{staticClass:"iconfont icon-configure",attrs:{eventid:"580dfd3a-3"},on:{click:function(e){t.toolBarClick("fontsize")}}}),a("view",{staticClass:"iconfont icon-underline",attrs:{eventid:"580dfd3a-4"},on:{click:function(e){t.toolBarClick("underline")}}}),a("view",{staticClass:"iconfont icon-strike",attrs:{eventid:"580dfd3a-5"},on:{click:function(e){t.toolBarClick("strike")}}}),a("view",{staticClass:"iconfont icon-alignleft",attrs:{eventid:"580dfd3a-6"},on:{click:function(e){t.toolBarClick("alignleft")}}}),a("view",{staticClass:"iconfont icon-aligncenter",attrs:{eventid:"580dfd3a-7"},on:{click:function(e){t.toolBarClick("aligncenter")}}}),a("view",{staticClass:"iconfont icon-alignright",attrs:{eventid:"580dfd3a-8"},on:{click:function(e){t.toolBarClick("alignright")}}})]),a("view",{staticClass:"input-content"},[a("view",{style:t.textareaDataStyle},[t._v(t._s(t.textareaData))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textareaData,expression:"textareaData"}],attrs:{"auto-height":"",maxlength:"-1",eventid:"580dfd3a-9"},domProps:{value:t.textareaData},on:{input:function(e){e.target.composing||(t.textareaData=e.target.value)}}})]),a("view",{staticStyle:{position:"fixed",bottom:"0",width:"100%"}},[a("view",{staticStyle:{display:"flex","box-shadow":"0 0 10px rgba(0,0,0,.1)"}},[a("view",{staticStyle:{"font-size":"14px","line-height":"40px",width:"50%","text-align":"center"},attrs:{eventid:"580dfd3a-10"},on:{click:function(e){t.textareaDataSave("input")}}},[t._v("提交")]),a("view",{staticStyle:{"font-size":"14px","line-height":"40px",width:"50%","text-align":"center"},attrs:{eventid:"580dfd3a-11"},on:{click:t.textareaDataCancel}},[t._v("取消")])])])]),a("view",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"popup popup-bottom"},[a("view",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[a("view",{staticClass:"popup-bottom-button",attrs:{eventid:"580dfd3a-12"},on:{click:t.showInsertText}},[t._v("插文字")]),a("view",{staticClass:"popup-bottom-button",attrs:{eventid:"580dfd3a-13"},on:{click:t.showEditText}},[t._v("改文字")]),a("view",{staticClass:"popup-bottom-button",attrs:{eventid:"580dfd3a-14"},on:{click:function(e){t.insertRichItem("image")}}},[t._v("插图片")]),a("view",{staticClass:"popup-bottom-button",attrs:{eventid:"580dfd3a-15"},on:{click:function(e){t.insertRichItem("video")}}},[t._v("插视频")]),a("view",{staticClass:"popup-bottom-button",attrs:{eventid:"580dfd3a-16"},on:{click:t.deleteRichItem}},[t._v("删除")])])]),a("view",{staticClass:"content"},[0==t.richList.length?a("view",{staticClass:"placeholder-tip",attrs:{eventid:"580dfd3a-17"},on:{click:function(e){t.showInputPopup(-1)}}},[t._v("请输入内容")]):t._e(),t._l(t.richList,function(e,i){return a("view",{key:i,ref:"richtext",refInFor:!0,style:i==t.richListIndex?"background:#cce0f2;":"",attrs:{eventid:"580dfd3a-18-"+i},on:{click:function(a){t.showInputPopup(i,e)}}},["p"==e.tagType?a("view",{style:e.style},[t._v(t._s(e.value))]):t._e(),"image"==e.tagType?a("image",{attrs:{src:e.value}}):t._e(),"video"==e.tagType?a("video",{attrs:{src:e.value,controls:""}}):t._e()])})],2)])},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},f1c5:function(t,e,a){"use strict";var i=a("a379"),n=a.n(i);n.a},feca:function(t,e,a){"use strict";a.r(e);var i=a("e77a"),n=a("a71f");for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);a("7c98");var o=a("2877"),r=Object(o["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=r.exports}},[["09b2","common/runtime","common/vendor"]]]);